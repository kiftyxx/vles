const a0_0x4a72c2=a0_0x2f55;function a0_0x2f55(_0x8315ba,_0x5c2e33){_0x8315ba=_0x8315ba-0x8f;const _0x1b40fa=a0_0x1b40();let _0x2f5542=_0x1b40fa[_0x8315ba];if(a0_0x2f55['IlZUNR']===undefined){var _0x51fbab=function(_0x3faaa8){const _0x2796d6='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x1e4c3c='',_0x255d88='';for(let _0x27ed38=0x0,_0x49b497,_0xea9afb,_0x134fc5=0x0;_0xea9afb=_0x3faaa8['charAt'](_0x134fc5++);~_0xea9afb&&(_0x49b497=_0x27ed38%0x4?_0x49b497*0x40+_0xea9afb:_0xea9afb,_0x27ed38++%0x4)?_0x1e4c3c+=String['fromCharCode'](0xff&_0x49b497>>(-0x2*_0x27ed38&0x6)):0x0){_0xea9afb=_0x2796d6['indexOf'](_0xea9afb);}for(let _0x5529aa=0x0,_0x469854=_0x1e4c3c['length'];_0x5529aa<_0x469854;_0x5529aa++){_0x255d88+='%'+('00'+_0x1e4c3c['charCodeAt'](_0x5529aa)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x255d88);};a0_0x2f55['GTvcfM']=_0x51fbab,a0_0x2f55['MOCoxN']={},a0_0x2f55['IlZUNR']=!![];}const _0x77ab29=_0x1b40fa[0x0],_0x407663=_0x8315ba+_0x77ab29,_0x391522=a0_0x2f55['MOCoxN'][_0x407663];return!_0x391522?(_0x2f5542=a0_0x2f55['GTvcfM'](_0x2f5542),a0_0x2f55['MOCoxN'][_0x407663]=_0x2f5542):_0x2f5542=_0x391522,_0x2f5542;}(function(_0x35782c,_0x291f41){const _0x159c58=a0_0x2f55,_0x27f8d3=_0x35782c();while(!![]){try{const _0x35b0e8=-parseInt(_0x159c58(0xb0))/0x1+parseInt(_0x159c58(0xc3))/0x2*(-parseInt(_0x159c58(0xa1))/0x3)+-parseInt(_0x159c58(0x113))/0x4+parseInt(_0x159c58(0x9e))/0x5+parseInt(_0x159c58(0xea))/0x6*(parseInt(_0x159c58(0xbd))/0x7)+parseInt(_0x159c58(0x11f))/0x8+parseInt(_0x159c58(0xb8))/0x9*(parseInt(_0x159c58(0x94))/0xa);if(_0x35b0e8===_0x291f41)break;else _0x27f8d3['push'](_0x27f8d3['shift']());}catch(_0xb77509){_0x27f8d3['push'](_0x27f8d3['shift']());}}}(a0_0x1b40,0x231f2));import{connect}from'cloudflare:sockets';const DEFAULT_REMOTE_API_URL='https://uuid.hailizi.workers.dev/api/users',DEFAULT_API_TOKEN='',FALLBACK_CONFIG={'proxyIPs':['cdn.xn--b6gac.eu.org'],'bestDomains':[a0_0x4a72c2(0xc1),'japan.com:443','www.visa.com.sg:443']},REGION_PROXY_IPS={'EU':'cdn.xn--b6gac.eu.org','AS':'cdn-all.xn--b6gac.eu.org','JP':'cdn-all.xn--b6gac.eu.org','US':'cdn.xn--b6gac.eu.org'},COLO_REGIONS={'JP':new Set([a0_0x4a72c2(0xd9),a0_0x4a72c2(0xb4),'KIX','NRT',a0_0x4a72c2(0xc8)]),'EU':new Set([a0_0x4a72c2(0xfb),a0_0x4a72c2(0xd2),a0_0x4a72c2(0xf7),a0_0x4a72c2(0xce),a0_0x4a72c2(0x10f),a0_0x4a72c2(0xa8),a0_0x4a72c2(0x122),a0_0x4a72c2(0xc2),'VIE',a0_0x4a72c2(0xe1),a0_0x4a72c2(0x120),'BRU',a0_0x4a72c2(0x98),'HEL',a0_0x4a72c2(0x121),a0_0x4a72c2(0xc7),a0_0x4a72c2(0xd4),a0_0x4a72c2(0x9b)]),'AS':new Set([a0_0x4a72c2(0x110),a0_0x4a72c2(0xd6),a0_0x4a72c2(0xdf),a0_0x4a72c2(0xd7),'SGN',a0_0x4a72c2(0x11e),a0_0x4a72c2(0x9a),a0_0x4a72c2(0xb3),'BOM',a0_0x4a72c2(0x10c),a0_0x4a72c2(0x108),a0_0x4a72c2(0xa9),a0_0x4a72c2(0xe2)])},coloToProxyMap=new Map();for(const [region,colos]of Object[a0_0x4a72c2(0xf4)](COLO_REGIONS)){for(const colo of colos)coloToProxyMap['set'](colo,REGION_PROXY_IPS[region]);}function getProxyIPByColo(_0x1e4c3c){const _0x3f896e=a0_0x4a72c2;return coloToProxyMap[_0x3f896e(0x96)](_0x1e4c3c)||REGION_PROXY_IPS['US'];}function smartSelectProxyIP(_0x255d88,_0x27ed38){const _0x487675=a0_0x4a72c2;if(!_0x255d88?.[_0x487675(0xa2)])return null;const _0x49b497={};for(const [_0x5529aa,_0x469854]of Object[_0x487675(0xf4)](COLO_REGIONS)){for(const _0x46c3cd of _0x469854)_0x49b497[_0x46c3cd]=_0x5529aa;}const _0xea9afb=_0x49b497[_0x27ed38],_0x134fc5={'JP':['jp'],'AS':['sg','hk','kr','tw'],'EU':['de','eu','uk'],'US':['us']};if(_0xea9afb)for(const _0x4e12a6 of _0x255d88){const _0x22c4d2=_0x4e12a6[_0x487675(0x92)]();for(const _0x3553d7 of _0x134fc5[_0xea9afb]||[])if(_0x22c4d2[_0x487675(0xaa)](_0x3553d7))return _0x4e12a6;}return _0x255d88[0x0];}const CACHE_TTL=0xea60;let cachedData={'users':{},'settings':FALLBACK_CONFIG,'websiteUrl':'','lastUpdate':0x0},RUNTIME_CONFIG={'apiUrl':DEFAULT_REMOTE_API_URL,'apiToken':DEFAULT_API_TOKEN};const GEO_KEYWORDS={'HK':['hk','香港'],'TW':['tw','台湾'],'JP':['jp','日本'],'SG':['sg',a0_0x4a72c2(0x10b)],'US':['us','美国'],'KR':['kr','韩国'],'DE':['de','德国'],'UK':['uk','英国']};function extractGeoLocation(_0x213ffc){const _0x222f40=a0_0x4a72c2;if(!_0x213ffc)return null;const _0x189c04=_0x213ffc[_0x222f40(0x92)]();for(const [_0x14e137,_0x238540]of Object[_0x222f40(0xf4)](GEO_KEYWORDS)){for(const _0x28079f of _0x238540)if(_0x189c04['includes'](_0x28079f))return _0x14e137;}return null;}function a0_0x1b40(){const _0x43c506=['C2v0DgLUz3m','u0Lo','s1vm','yxbPvg9Rzw4','rLvl','BMfTzq','ChjVEhLjua','C2vHCMnOugfYyw1Z','DhjPBq','zxHWAxj5','qKTl','vw5HDxrOB3jPEMvKifvvsuq6','v0fx','u0vm','qMvHCMvYia','yxbPvxjS','CMvWBgfJzq','C2vHCMnO','v2vIu29JA2v0igvYCM9Y','CgfKu3rHCNq','DgXZ','mJGZmNzZCxDKuq','rMfPBgvKihrVihn5BMmGy29UzMLNoG','xtO0ndm','CgLWzvrV','zM9YrwfJAa','zw5XDwv1zq','ywnJzxb0','CMvHzgfIBgu','y2f0y2G','DxnLCNm','zw50CMLLCW','ywrKrxzLBNrmAxn0zw5LCG','AM9PBG','rLjb','qxv0Ag9YAxPHDgLVBG','yNL0zuXLBMD0Aa','iIb0yxjNzxq9iL9IBgfUAYiGCMvSpsjUB29Wzw5LCIbUB3jLzMvYCMvYiJ7OV5VLHAxLRPJNVze8C3bHBIbJBgfZCZ0IBwf0zxjPywWTC3LTyM9SCY1VDxrSAw5Lzcb0zxH0lvSXohb4xsi+BM9YDgHFzwfZDdWVC3bHBJ48l2e+pgrPDIbJBgfZCZ0IBxqTmtaIpJXZCgfUignSyxnZpsj0zxH0lvSXmxb4xsbMB250lw1VBM8GDhjHy2TPBMCTD2LKzxiGDgv4Dc16Aw5JltqWmcbKyxjRoNrLEhqTEMLUyY02mdaGDxbWzxjJyxnLiJ4','qu1t','tM90lvnLDa','Bwf0y2G','AgvHzgvYCW','Ahr0Chm6lY9LEgfTCgXLlMnVBq','vxbNCMfKzq','zgLYzwn0','lZ9Lzd0Ymdq4','B3bLBMvK','zgvJB2rL','re5tihf1zxj5igzHAwXLzdO','ChvZAa','y2HYB21L','tuvm','BM9Uzq','yMvZDerVBwfPBNm','5PAW5yQG5z2H','u1Le','C3vIvxjS','zxjYB3i','rfvc','seTh','C3vIC3rYAw5N','qvbjx1vsta','mtaZmJCYngv0BLLMra','AxnbCNjHEq','BM8Ty2fJAgu','BwvZC2fNzq','Bg9N','pc9ZCgfUpJWVzgL2pJWVzgL2pJXIDxr0B24Gy2XHC3m9iMzPEgvKigjVDhrVBs02ihjPz2H0ltyGCc0YihjVDw5KzwqTzNvSBcbIB3jKzxiGyM9YzgvYlxPPBMmTmJaWigrHCMS6yM9YzgvYlxPPBMmTodaWigjNlxDOAxrLigrHCMS6yMCTEMLUyY05ntaGDgv4Dc16Aw5JltuWmcbOB3zLCJP0zxH0lxPPBMmTotuWigrHCMS6Ag92zxi6Dgv4Dc16Aw5JltuWihrYyw5ZAxrPB24Ty29SB3jZiIbVBMnSAwnRpsjKB2n1BwvUDc5KB2n1BwvUDevSzw1LBNqUy2XHC3nmAxn0lNrVz2DSzsGNzgfYAYCPiJ48C3bHBIbJBgfZCZ0IBwf0zxjPywWTC3LTyM9SCY1VDxrSAw5LzcbIBg9JAYbKyxjRoMHPzgrLBIi+zgfYA19TB2rLpc9ZCgfUpJXZCgfUignSyxnZpsjTyxrLCMLHBc1ZEw1IB2XZlw91DgXPBMvKigHPzgrLBIbKyxjRoMjSB2nRiJ5SAwDODf9TB2rLpc9ZCgfUpJWVyNv0Dg9UpJWVBwfPBJ48l2jVzhK+pc9ODg1SpG','z2v0tw9UDgG','Ahr0Chm6lY8','DgvSzwnVBs4XndeYlNrLy2G6ndqZ','zgf0yq','CMvHzhLtDgf0zq','tu5m','mtG0nJm2mgTeqLHyyW','ufjh','t1nm','tvHq','zNjVBq','D2vIC29JA2v0','oI8V','Dg9mB3DLCKnHC2u','y2XVC2u','mti3nZbYr1Dlt04','C3rHCNrZv2L0Aa','z2v0','Aw5KzxHpzG','q1bi','ChjVEhLjuhm','q0Dl','qvri','ANnVBG','BM93','mtu0nZq1u1zdreHM','u3LUyYbJB25MAwCGzMfPBgvKig9UigHVBwvWywDLoG','v2vIC2L0zs0','mZiYnJHgCufTDwe','BgvUz3rO','Dgv4Dc9ODg1SoYbJAgfYC2v0pxv0zI04','D2vIC2L0zvvYBa','y29SBW','Dgv4Dc9WBgfPBJSGy2HHCNnLDd11DgyToa','C2XPy2u','tufe','vfbf','Aw5JBhvKzxm','ChjVEhLPCa','Ag9ZDg5HBwu','sfruuca','qvbjx1rps0vo','z2v0vwLUDde2','mZe0oerUwunusa','BM8TC3rVCMuSig5VlwnHy2HLlcbTDxn0lxjLDMfSAwrHDguSig1HEc1Hz2u9ma','z2v0vwLUDdG','revm','suno','CMvSzwfZzuXVy2S','yxjYyxLcDwzMzxi','D3jPDgu','mZe1qw14zw1w','yNvMzMvY','z2v0rNvSBfLLyxi','r0vu','DMfSDwvZ','mtyYnhrWsMXzza','Cgf0Ag5HBwu','jtng','C3bSAxq','yMvZDgnMlJaZmdeWms54ExO6ndqZ','wLji','mMXltwvYsG','C2vJlxDLyNnVy2TLDc1WCM90B2nVBa','B2jQzwn0','C2vUza','qvjo','t0Tb','tM90lufJDgL2yxrLza','Dg9tDhjPBMC','oJq0mW','Bw9Kzq','BgfZDfvWzgf0zq','teHs','DxjS','z2v0v3jPDgvY','D3jPDgfIBgu','q0rh','ue9tva','svnu'];a0_0x1b40=function(){return _0x43c506;};return a0_0x1b40();}function smartSortProxies(_0x72219d,_0x51d93e){const _0x3c4c20=a0_0x4a72c2;if(!_0x72219d?.[_0x3c4c20(0xa2)])return[];const _0x28b251=extractGeoLocation(_0x51d93e);if(!_0x28b251)return[..._0x72219d];const _0x4ab6ea=[],_0x23849a=[];return _0x72219d['forEach'](_0x25edc2=>(extractGeoLocation(_0x25edc2)===_0x28b251?_0x4ab6ea:_0x23849a)[_0x3c4c20(0x106)](_0x25edc2)),[..._0x4ab6ea,..._0x23849a];}export default{async 'fetch'(_0x2fe9d0,env,_0x28b7c9){const _0x173897=a0_0x4a72c2;RUNTIME_CONFIG={'apiUrl':env[_0x173897(0x112)]||DEFAULT_REMOTE_API_URL,'apiToken':env[_0x173897(0xae)]||DEFAULT_API_TOKEN};const _0xca9020=new URL(_0x2fe9d0[_0x173897(0xcf)]);if(_0x2fe9d0[_0x173897(0xfe)]['get'](_0x173897(0x100))?.[_0x173897(0x92)]()===_0x173897(0x90))return await handleWebSocket(_0x2fe9d0);if(_0x2fe9d0['method']===_0x173897(0xbb)){if(_0xca9020[_0x173897(0xbe)]==='/'){try{await syncRemoteConfig();}catch(_0xe17db){console[_0x173897(0x10e)](_0x173897(0x9f),_0xe17db);}let _0x3abb7e=cachedData[_0x173897(0xa4)]||cachedData[_0x173897(0xd5)]&&cachedData[_0x173897(0xd5)][_0x173897(0x10d)]||_0x173897(0xff);_0x3abb7e=String(_0x3abb7e||_0x173897(0xff));!_0x3abb7e[_0x173897(0x95)]('http://')&&!_0x3abb7e[_0x173897(0x95)](_0x173897(0x11a))&&(_0x3abb7e=_0x173897(0x11a)+_0x3abb7e);const _0x139347=_0x3abb7e[_0x173897(0xe5)](/^https?:\/\//,''),_0x5b69a1='<!DOCTYPE\x20html><html\x20class=\x22light\x22\x20lang=\x22zh-CN\x22><head><meta\x20charset=\x22UTF-8\x22><meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,\x20initial-scale=1.0\x22><title>CFly\x20官网入口</title><link\x20rel=\x22preconnect\x22\x20href=\x22https://fonts.googleapis.com\x22><link\x20rel=\x22preconnect\x22\x20href=\x22https://fonts.gstatic.com\x22\x20crossorigin><link\x20href=\x22https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap\x22\x20rel=\x22stylesheet\x22><link\x20href=\x22https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20,400,0,0\x22\x20rel=\x22stylesheet\x22><script\x20src=\x22https://cdn.tailwindcss.com?plugins=forms,typography\x22></script><script>tailwind.config={darkMode:\x22class\x22,theme:{extend:{colors:{primary:\x22#09090b\x22,\x22background-light\x22:\x22#fff\x22,\x22background-dark\x22:\x22#09090b\x22},fontFamily:{display:[\x22Inter\x22,\x22system-ui\x22,\x22sans-serif\x22]},borderRadius:{DEFAULT:\x220.5rem\x22}}}}</script><style>body{font-family:\x27Inter\x27,sans-serif}.edge-network-bg{background-image:radial-gradient(circle\x20at\x202px\x202px,rgba(0,0,0,0.05)\x201px,transparent\x200);background-size:40px\x2040px}.dark\x20.edge-network-bg{background-image:radial-gradient(circle\x20at\x202px\x202px,rgba(255,255,255,0.05)\x201px,transparent\x200)}.connecting-lines{position:absolute;inset:0;overflow:hidden;pointer-events:none;opacity:0.4}.line{position:absolute;background:linear-gradient(90deg,transparent,currentColor,transparent);height:1px;width:100%;opacity:0.1}.node{position:absolute;width:4px;height:4px;border-radius:50%;background:currentColor;box-shadow:0\x200\x208px\x20currentColor;opacity:0.3}</style></head><body\x20class=\x22bg-background-light\x20dark:bg-background-dark\x20text-slate-900\x20dark:text-slate-100\x20min-h-screen\x20flex\x20items-center\x20justify-center\x20relative\x20overflow-hidden\x22><div\x20class=\x22absolute\x20inset-0\x20edge-network-bg\x20z-0\x22></div><div\x20class=\x22connecting-lines\x20z-0\x20text-slate-400\x20dark:text-slate-600\x22><div\x20class=\x22line\x20top-[20%]\x20left-0\x20rotate-[15deg]\x22></div><div\x20class=\x22line\x20top-[50%]\x20left-0\x20rotate-[-10deg]\x22></div><div\x20class=\x22line\x20top-[80%]\x20left-0\x20rotate-[5deg]\x22></div><div\x20class=\x22node\x20top-[22%]\x20left-[15%]\x22></div><div\x20class=\x22node\x20top-[48%]\x20left-[45%]\x22></div><div\x20class=\x22node\x20top-[75%]\x20left-[85%]\x22></div><div\x20class=\x22node\x20top-[10%]\x20left-[70%]\x22></div></div><main\x20class=\x22relative\x20z-10\x20w-full\x20max-w-[380px]\x20px-6\x22><div\x20class=\x22bg-white\x20dark:bg-zinc-950\x20border\x20border-zinc-200\x20dark:border-zinc-800\x20p-8\x20flex\x20flex-col\x20items-center\x20text-center\x22><div\x20class=\x22mb-8\x22><span\x20class=\x22inline-flex\x20items-center\x20gap-1.5\x20px-2.5\x20py-0.5\x20rounded-full\x20text-[12px]\x20font-medium\x20border\x20border-zinc-200\x20dark:border-zinc-800\x20text-zinc-600\x20dark:text-zinc-400\x22><span\x20class=\x22relative\x20flex\x20h-2\x20w-2\x22><span\x20class=\x22animate-ping\x20absolute\x20inline-flex\x20h-full\x20w-full\x20rounded-full\x20bg-emerald-400\x20opacity-75\x22></span><span\x20class=\x22relative\x20inline-flex\x20rounded-full\x20h-2\x20w-2\x20bg-emerald-500\x22></span></span>运行中</span></div><div\x20class=\x22mb-6\x20text-zinc-900\x20dark:text-zinc-100\x22><svg\x20class=\x22w-12\x20h-12\x22\x20fill=\x22none\x22\x20height=\x2248\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20width=\x2248\x22\x20xmlns=\x22http://www.w3.org/2000/svg\x22><path\x20d=\x22M22\x202L11\x2013\x22\x20stroke=\x22currentColor\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22\x20stroke-width=\x222\x22></path><path\x20d=\x22M22\x202L15\x2022L11\x2013L2\x209L22\x202Z\x22\x20stroke=\x22currentColor\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22\x20stroke-width=\x222\x22></path></svg></div><h1\x20class=\x22text-xl\x20font-bold\x20tracking-tight\x20text-zinc-950\x20dark:text-zinc-50\x20mb-2\x22>CFly\x20官网入口</h1><p\x20class=\x22text-sm\x20text-zinc-500\x20dark:text-zinc-400\x20mb-10\x22>点击下方按钮访问官网</p><a\x20class=\x22w-full\x20group\x20bg-primary\x20dark:bg-zinc-50\x20text-white\x20dark:text-zinc-950\x20h-11\x20flex\x20items-center\x20justify-center\x20gap-2\x20font-medium\x20transition-all\x20hover:opacity-90\x20active:scale-[0.98]\x22\x20href=\x22'+_0x3abb7e+_0x173897(0xfa)+_0x139347+_0x173897(0x118);return new Response(_0x5b69a1,{'status':0xc8,'headers':{'Content-Type':_0x173897(0xa3)}});}await syncRemoteConfig();const _0x322bb3=cachedData['users'];for(const [_0x4f527f,_0x3a5ab7]of Object[_0x173897(0xf4)](_0x322bb3)){if(_0xca9020['pathname'][_0x173897(0x92)]()[_0x173897(0xaa)](_0x4f527f[_0x173897(0x92)]()))return await handleSubscription(_0x2fe9d0,_0x4f527f,_0x3a5ab7);}}return new Response('Not\x20Found\x20-\x20No\x20matching\x20UUID\x20in\x20path.\x20Please\x20check:\x201)\x20API\x20URL\x20is\x20configured\x20correctly,\x202)\x20User\x20exists\x20in\x20manager,\x203)\x20UUID\x20in\x20URL\x20is\x20correct',{'status':0x194});}};async function syncRemoteConfig(_0x56e045=![]){const _0x4da4cf=a0_0x4a72c2,_0x49ba80=Date[_0x4da4cf(0x9d)]();if(!_0x56e045&&_0x49ba80-cachedData[_0x4da4cf(0xcd)]<CACHE_TTL)return;if(_0x56e045&&_0x49ba80-cachedData[_0x4da4cf(0xcd)]<0x1388)return;try{const _0x482cc7={'User-Agent':'CF-Node-Worker/1.0'};RUNTIME_CONFIG[_0x4da4cf(0xd8)]&&(_0x482cc7[_0x4da4cf(0xf8)]=_0x4da4cf(0xe3)+RUNTIME_CONFIG[_0x4da4cf(0xd8)]);const _0x13754a=await fetch(RUNTIME_CONFIG[_0x4da4cf(0xe4)],{'headers':_0x482cc7,'cf':{'cacheTtl':0x0}});if(!_0x13754a['ok'])throw new Error(_0x4da4cf(0xad)+_0x13754a['status']);const _0x1379fc=await _0x13754a[_0x4da4cf(0x9c)]();_0x1379fc[_0x4da4cf(0xf3)]&&typeof _0x1379fc[_0x4da4cf(0xf3)]===_0x4da4cf(0xc5)&&(cachedData[_0x4da4cf(0xf3)]=_0x1379fc[_0x4da4cf(0xf3)]);if(_0x1379fc[_0x4da4cf(0xd5)]){if(_0x1379fc[_0x4da4cf(0xd5)][_0x4da4cf(0xa4)])cachedData[_0x4da4cf(0xa4)]=_0x1379fc[_0x4da4cf(0xd5)][_0x4da4cf(0xa4)];else _0x1379fc['settings'][_0x4da4cf(0x10d)]&&(cachedData[_0x4da4cf(0xa4)]=_0x1379fc[_0x4da4cf(0xd5)][_0x4da4cf(0x10d)]);}if(_0x1379fc[_0x4da4cf(0xd5)]&&typeof _0x1379fc['settings']===_0x4da4cf(0xc5)){const _0x422d24={};if(Array[_0x4da4cf(0x114)](_0x1379fc[_0x4da4cf(0xd5)][_0x4da4cf(0x99)])&&_0x1379fc[_0x4da4cf(0xd5)]['proxyIPs'][_0x4da4cf(0xa2)]>0x0)_0x422d24[_0x4da4cf(0x99)]=_0x1379fc[_0x4da4cf(0xd5)][_0x4da4cf(0x99)];else _0x1379fc[_0x4da4cf(0xd5)][_0x4da4cf(0xdb)]?_0x422d24['proxyIPs']=[_0x1379fc[_0x4da4cf(0xd5)][_0x4da4cf(0xdb)]]:_0x422d24['proxyIPs']=FALLBACK_CONFIG[_0x4da4cf(0x99)];Array['isArray'](_0x1379fc[_0x4da4cf(0xd5)]['bestDomains'])&&_0x1379fc[_0x4da4cf(0xd5)]['bestDomains'][_0x4da4cf(0xa2)]>0x0?_0x422d24['bestDomains']=_0x1379fc[_0x4da4cf(0xd5)][_0x4da4cf(0x10a)]:_0x422d24['bestDomains']=FALLBACK_CONFIG[_0x4da4cf(0x10a)],cachedData[_0x4da4cf(0xd5)]=_0x422d24;}cachedData['lastUpdate']=_0x49ba80;}catch(_0xc53c9f){console[_0x4da4cf(0x10e)](_0x4da4cf(0xeb),_0xc53c9f[_0x4da4cf(0x116)]);}}async function handleSubscription(_0x4b02a8,_0xfab37a,_0x52a9a4){const _0x10fedd=a0_0x4a72c2,_0x2e8efa=new URL(_0x4b02a8[_0x10fedd(0xcf)]),_0x5d0675=_0x2e8efa[_0x10fedd(0xac)],_0x38c8bd=typeof _0x52a9a4===_0x10fedd(0xc5)?_0x52a9a4[_0x10fedd(0xde)]:null,_0x4b4fd2=typeof _0x52a9a4===_0x10fedd(0xc5)?_0x52a9a4[_0x10fedd(0xda)]:_0x52a9a4,_0x3addeb=cachedData[_0x10fedd(0xa4)]||'',_0x20a391=generateVlessLinks(_0x5d0675,_0xfab37a,_0x4b4fd2,_0x38c8bd,_0x3addeb),_0x26e2d5=btoa(_0x20a391[_0x10fedd(0xf6)]('\x0a'));return new Response(_0x26e2d5,{'headers':{'Content-Type':_0x10fedd(0xa6),'Cache-Control':_0x10fedd(0xb1),'Pragma':_0x10fedd(0x115)}});}function generateVlessLinks(_0x45ceb3,_0x5aa1d8,_0x5c2f08,_0x52dcdc,_0x452990){const _0xb923e5=a0_0x4a72c2,_0x320759=[],_0x2e1db2=encodeURIComponent(_0xb923e5(0x102)),_0x3b4e82='vless',_0x4216d3=cachedData['settings'][_0xb923e5(0x10a)]||FALLBACK_CONFIG[_0xb923e5(0x10a)];function _0x5c92e7(_0x554cfa){const _0xf896e4=_0xb923e5;if(!_0x554cfa)return _0xf896e4(0xc9);const _0x401841=new Date(_0x554cfa),_0x3f9f8c=_0x401841[_0xf896e4(0xba)](),_0x6ce22c=String(_0x401841[_0xf896e4(0x119)]()+0x1)[_0xf896e4(0xe8)](0x2,'0'),_0x277f6e=String(_0x401841['getDate']())['padStart'](0x2,'0');return _0x3f9f8c+'-'+_0x6ce22c+'-'+_0x277f6e;}let _0x210d4b=_0xb923e5(0x11b);if(_0x4216d3[_0xb923e5(0xa2)]>0x0){const _0x46fbf7=_0x4216d3[0x0],_0x45fa77=_0x46fbf7['split']('#');let _0x26e541=_0x45fa77[0x0][_0xb923e5(0xdd)]();if(_0x26e541['startsWith']('['))_0x210d4b=_0x26e541;else{if(_0x26e541[_0xb923e5(0xaa)]('[')&&_0x26e541[_0xb923e5(0xaa)](']'))_0x210d4b=_0x26e541;else{const _0x16bce4=(_0x26e541[_0xb923e5(0xfd)](/:/g)||[])['length'];if(_0x16bce4>0x1){const _0x3acc93=_0x26e541[_0xb923e5(0xfd)](/^(.+):(\d+)$/);_0x3acc93&&!isNaN(_0x3acc93[0x2])?_0x210d4b='['+_0x3acc93[0x1]+']:'+_0x3acc93[0x2]:_0x210d4b='['+_0x26e541+_0xb923e5(0xec);}else _0x26e541[_0xb923e5(0xaa)](':')?_0x210d4b=_0x26e541:_0x210d4b=_0x26e541+':443';}}}const _0x2123d7=new URLSearchParams({'encryption':_0xb923e5(0x109),'security':_0xb923e5(0xe9),'sni':_0x45ceb3,'fp':'chrome','type':'ws','host':_0x45ceb3,'path':_0x2e1db2}),_0x11a51e=_0x452990?_0x452990[_0xb923e5(0xe5)](/^https?:\/\//,''):_0xb923e5(0xfc),_0x9c2139=_0x3b4e82+_0xb923e5(0x91)+_0x5aa1d8+'@'+_0x210d4b+'?'+_0x2123d7[_0xb923e5(0xca)]()+'#'+encodeURIComponent(_0xb923e5(0xa0)+_0x11a51e);_0x320759[_0xb923e5(0x106)](_0x9c2139);const _0x3495e1=_0x5c92e7(_0x52dcdc),_0x2ba236=_0x3b4e82+'://'+_0x5aa1d8+'@'+_0x210d4b+'?'+_0x2123d7[_0xb923e5(0xca)]()+'#'+encodeURIComponent('Expire-'+_0x3495e1);_0x320759[_0xb923e5(0x106)](_0x2ba236);const _0x1048ad=[..._0x4216d3]['sort']((_0xc4fb80,_0x38877d)=>{const _0x6bf887=_0xb923e5,_0x103502=_0xc4fb80[_0x6bf887(0xaa)]('['),_0x1bc8eb=_0x38877d[_0x6bf887(0xaa)]('[');if(_0x103502&&!_0x1bc8eb)return 0x1;if(!_0x103502&&_0x1bc8eb)return-0x1;return 0x0;});return _0x1048ad[_0xb923e5(0xee)]((_0x448fac,_0x3b05e1)=>{const _0x441ab7=_0xb923e5,_0x29b528=_0x448fac['split']('#');let _0xde626f=_0x29b528[0x0][_0x441ab7(0xdd)]();const _0x486f84=_0x29b528[0x1]?_0x29b528[0x1][_0x441ab7(0xdd)]():null;let _0x1284ea;if(_0xde626f[_0x441ab7(0x95)]('['))_0x1284ea=_0xde626f;else{if(_0xde626f['includes']('[')&&_0xde626f['includes'](']'))_0x1284ea=_0xde626f;else{const _0x425950=(_0xde626f[_0x441ab7(0xfd)](/:/g)||[])['length'];if(_0x425950>0x1){const _0x4c4c8c=_0xde626f[_0x441ab7(0xfd)](/^(.+):(\d+)$/);if(_0x4c4c8c&&!isNaN(_0x4c4c8c[0x2])){const _0x237f82=_0x4c4c8c[0x1],_0x3948c5=_0x4c4c8c[0x2];_0x1284ea='['+_0x237f82+']:'+_0x3948c5;}else _0x1284ea='['+_0xde626f+_0x441ab7(0xec);}else _0xde626f['includes'](':')?_0x1284ea=_0xde626f:_0x1284ea=_0xde626f+_0x441ab7(0xcb);}}let _0x1980a4;_0x486f84?_0x1980a4=_0x486f84:_0x1980a4=_0xde626f['replace'](/:\d+$/,'');const _0x32f9cc=new URLSearchParams({'encryption':_0x441ab7(0x109),'security':_0x441ab7(0xe9),'sni':_0x45ceb3,'fp':_0x441ab7(0x107),'type':'ws','host':_0x45ceb3,'path':_0x2e1db2}),_0x230734=_0x3b4e82+_0x441ab7(0x91)+_0x5aa1d8+'@'+_0x1284ea+'?'+_0x32f9cc[_0x441ab7(0xca)]()+'#'+encodeURIComponent(_0x1980a4);_0x320759['push'](_0x230734);}),_0x320759;}async function handleWebSocket(_0xe7268){const _0xa5f2d2=a0_0x4a72c2;await syncRemoteConfig();const [_0x1f5d08,_0x723f3f]=Object[_0xa5f2d2(0xbc)](new WebSocketPair());_0x723f3f[_0xa5f2d2(0xf0)]();const _0x2ba7c4=new URL(_0xe7268[_0xa5f2d2(0xcf)]);if(_0x2ba7c4['pathname'][_0xa5f2d2(0xaa)](_0xa5f2d2(0xbf))){const _0x23457e=decodeURIComponent(_0x2ba7c4[_0xa5f2d2(0xbe)]),_0x3b8794=_0x23457e[_0xa5f2d2(0x97)]('?');_0x3b8794!==-0x1&&(_0x2ba7c4[_0xa5f2d2(0xe6)]=_0x23457e[_0xa5f2d2(0x111)](_0x3b8794),_0x2ba7c4[_0xa5f2d2(0xbe)]=_0x23457e['substring'](0x0,_0x3b8794));}const _0x5d3891=_0x2ba7c4[_0xa5f2d2(0xdc)]['get'](_0xa5f2d2(0xcc))||'auto',_0x352cdf=_0x2ba7c4['searchParams']['get'](_0xa5f2d2(0xab)),_0x166ea7=_0xe7268['cf']?.[_0xa5f2d2(0xa5)]||'',_0x174565=cachedData[_0xa5f2d2(0xd5)][_0xa5f2d2(0x99)]||FALLBACK_CONFIG['proxyIPs'];let _0x2d943f=_0x352cdf;!_0x2d943f&&_0x174565[_0xa5f2d2(0xa2)]>0x0&&(_0x2d943f=smartSelectProxyIP(_0x174565,_0x166ea7));!_0x2d943f&&(_0x2d943f=getProxyIPByColo(_0x166ea7));let _0x49fca3=null,_0x1e4f96=null,_0x39a76e=![];return new ReadableStream({'start'(_0x2bbabd){const _0x149743=_0xa5f2d2;_0x723f3f[_0x149743(0xf5)](_0x149743(0x116),_0x15b704=>{const _0x1a152f=_0x149743;_0x2bbabd[_0x1a152f(0xef)](_0x15b704[_0x1a152f(0x11c)]);}),_0x723f3f['addEventListener'](_0x149743(0x93),()=>{const _0x2cdd4a=_0x149743;if(_0x49fca3)try{_0x49fca3['close']();}catch(_0x44ff84){}_0x2bbabd[_0x2cdd4a(0x93)]();}),_0x723f3f[_0x149743(0xf5)](_0x149743(0x10e),()=>{const _0x5a2dda=_0x149743;if(_0x49fca3)try{_0x49fca3[_0x5a2dda(0x93)]();}catch(_0x432803){}try{_0x2bbabd[_0x5a2dda(0x10e)](new Error(_0x5a2dda(0xe7)));}catch(_0x54a4f1){}});const _0x5c59d7=_0xe7268[_0x149743(0xfe)]['get'](_0x149743(0xc4));if(_0x5c59d7)try{const _0xca3f5d=Uint8Array[_0x149743(0x8f)](atob(_0x5c59d7[_0x149743(0xe5)](/-/g,'+')[_0x149743(0xe5)](/_/g,'/')),_0x354ba1=>_0x354ba1['charCodeAt'](0x0));_0x2bbabd[_0x149743(0xef)](_0xca3f5d[_0x149743(0xb9)]);}catch(_0x5349d2){}}})[_0xa5f2d2(0xed)](new WritableStream({async 'write'(_0x5c4990){const _0xf96284=_0xa5f2d2;if(_0x39a76e&&_0x1e4f96){try{await _0x1e4f96[_0xf96284(0xb7)](_0x5c4990);}catch(_0x2de6a3){}return;}if(_0x49fca3){try{const _0x477e77=_0x49fca3['writable'][_0xf96284(0xd0)]();await _0x477e77[_0xf96284(0xb7)](_0x5c4990),_0x477e77['releaseLock']();}catch(_0x2d314f){}return;}if(_0x5c4990[_0xf96284(0xf9)]<0x18)return;const _0x11878b=new DataView(_0x5c4990),_0x4e4282=new Uint8Array(_0x5c4990[_0xf96284(0xa7)](0x1,0x11)),_0x4cc58d=bytesToUUID(_0x4e4282);if(!cachedData[_0xf96284(0xf3)][_0x4cc58d]){await syncRemoteConfig(!![]);if(!cachedData[_0xf96284(0xf3)][_0x4cc58d]){console[_0xf96284(0x117)](_0xf96284(0xe0),_0x4cc58d);return;}}const _0x362419=_0x11878b[_0xf96284(0xb2)](0x0),_0x3adb03=_0x11878b[_0xf96284(0xb2)](0x11),_0x177391=_0x11878b[_0xf96284(0xb2)](0x12+_0x3adb03);if(_0x177391!==0x1&&_0x177391!==0x2)return;let _0x1c9ac3=0x13+_0x3adb03;const _0x1caf5d=_0x11878b[_0xf96284(0xaf)](_0x1c9ac3),_0xe6378=_0x11878b[_0xf96284(0xb2)](_0x1c9ac3+0x2);_0x1c9ac3+=0x3;let _0x719d2c='';if(_0xe6378===0x1)_0x719d2c=_0x11878b['getUint8'](_0x1c9ac3)+'.'+_0x11878b[_0xf96284(0xb2)](_0x1c9ac3+0x1)+'.'+_0x11878b[_0xf96284(0xb2)](_0x1c9ac3+0x2)+'.'+_0x11878b[_0xf96284(0xb2)](_0x1c9ac3+0x3),_0x1c9ac3+=0x4;else{if(_0xe6378===0x2){const _0x3e4864=_0x11878b[_0xf96284(0xb2)](_0x1c9ac3);_0x1c9ac3+=0x1,_0x719d2c=new TextDecoder()[_0xf96284(0x104)](_0x5c4990['slice'](_0x1c9ac3,_0x1c9ac3+_0x3e4864)),_0x1c9ac3+=_0x3e4864;}else{if(_0xe6378===0x3){const _0x2f2bbe=[];for(let _0xe49c83=0x0;_0xe49c83<0x8;_0xe49c83++){_0x2f2bbe['push'](_0x11878b[_0xf96284(0xaf)](_0x1c9ac3+_0xe49c83*0x2)[_0xf96284(0xca)](0x10));}_0x719d2c=_0x2f2bbe['join'](':'),_0x1c9ac3+=0x10;}else return;}}const _0x34eeb8=new Uint8Array([_0x362419,0x0]),_0x1458bf=_0x5c4990[_0xf96284(0xa7)](_0x1c9ac3);if(_0x177391===0x2){if(_0x1caf5d!==0x35)return;_0x39a76e=!![];let _0xea403b=![];const {readable:_0x516bc6,writable:_0x30d1d2}=new TransformStream({'transform'(_0x5a6d07,_0x4a53dc){const _0xde52ec=_0xf96284;let _0x45e9db=0x0;while(_0x45e9db<_0x5a6d07[_0xde52ec(0xf9)]){const _0x23fabd=new DataView(_0x5a6d07[_0xde52ec(0xa7)](_0x45e9db,_0x45e9db+0x2))[_0xde52ec(0xaf)](0x0),_0x208d0f=_0x5a6d07[_0xde52ec(0xa7)](_0x45e9db+0x2,_0x45e9db+0x2+_0x23fabd);_0x4a53dc[_0xde52ec(0xef)](_0x208d0f),_0x45e9db+=0x2+_0x23fabd;}}});_0x516bc6['pipeTo'](new WritableStream({async 'write'(_0x3ab592){const _0x235609=_0xf96284;try{const _0x583873=await fetch('https://1.1.1.1/dns-query',{'method':_0x235609(0xd3),'headers':{'Content-Type':'application/dns-message'},'body':_0x3ab592});if(_0x583873['ok']&&_0x723f3f['readyState']===0x1){const _0x2d05df=new Uint8Array(await _0x583873[_0x235609(0xb6)]()),_0x3588b5=new Uint8Array([..._0xea403b?[]:_0x34eeb8,_0x2d05df[_0x235609(0xa2)]>>0x8,_0x2d05df['length']&0xff,..._0x2d05df]);_0x723f3f[_0x235609(0xc6)](_0x3588b5),_0xea403b=!![];}}catch(_0x51c16d){console['error'](_0x235609(0x105),_0x51c16d);}}}))[_0xf96284(0xf2)](()=>{}),_0x1e4f96=_0x30d1d2[_0xf96284(0xd0)]();try{await _0x1e4f96[_0xf96284(0xb7)](_0x1458bf);}catch(_0x3b05dc){}return;}let _0x196254=null;try{_0x196254=connect({'hostname':_0x719d2c,'port':_0x1caf5d}),await _0x196254[_0xf96284(0x103)];}catch(_0x5c0905){_0x196254=null;if(_0x2d943f&&_0x5d3891!==_0xf96284(0x101)){const [_0x1894d5,_0x1bf472]=_0x2d943f[_0xf96284(0xaa)](':')?[_0x2d943f[_0xf96284(0xc0)](':')[0x0],parseInt(_0x2d943f['split'](':')[0x1])]:[_0x2d943f,0x1bb];try{_0x196254=connect({'hostname':_0x1894d5,'port':_0x1bf472}),await _0x196254['opened'];}catch(_0x407e6f){_0x196254=null;}}}if(!_0x196254)return;_0x49fca3=_0x196254;try{const _0x5ef1f5=_0x196254[_0xf96284(0xd1)][_0xf96284(0xd0)]();await _0x5ef1f5[_0xf96284(0xb7)](_0x1458bf),_0x5ef1f5[_0xf96284(0xb5)]();}catch(_0x344a3a){}let _0x289f7b=![];_0x196254[_0xf96284(0xf1)][_0xf96284(0xed)](new WritableStream({'write'(_0xa61e68){const _0x107bde=_0xf96284;_0x723f3f[_0x107bde(0x11d)]===0x1&&(!_0x289f7b?(_0x723f3f['send'](new Uint8Array([..._0x34eeb8,...new Uint8Array(_0xa61e68)])),_0x289f7b=!![]):_0x723f3f[_0x107bde(0xc6)](_0xa61e68));},'close'(){const _0x41f2d6=_0xf96284;_0x723f3f[_0x41f2d6(0x11d)]===0x1&&_0x723f3f[_0x41f2d6(0x93)]();},'abort'(){const _0x522113=_0xf96284;_0x723f3f[_0x522113(0x11d)]===0x1&&_0x723f3f[_0x522113(0x93)]();}}))['catch'](()=>{});}}))[_0xa5f2d2(0xf2)](()=>{}),new Response(null,{'status':0x65,'webSocket':_0x1f5d08});}function bytesToUUID(_0x4d3b4b){const _0x2e8485=a0_0x4a72c2,_0x5e59ae=[];for(let _0x53219a=0x0;_0x53219a<0x100;_0x53219a++){_0x5e59ae['push']((_0x53219a+0x100)[_0x2e8485(0xca)](0x10)['substr'](0x1));}const _0xd1b689=[_0x5e59ae[_0x4d3b4b[0x0]]+_0x5e59ae[_0x4d3b4b[0x1]]+_0x5e59ae[_0x4d3b4b[0x2]]+_0x5e59ae[_0x4d3b4b[0x3]],_0x5e59ae[_0x4d3b4b[0x4]]+_0x5e59ae[_0x4d3b4b[0x5]],_0x5e59ae[_0x4d3b4b[0x6]]+_0x5e59ae[_0x4d3b4b[0x7]],_0x5e59ae[_0x4d3b4b[0x8]]+_0x5e59ae[_0x4d3b4b[0x9]],_0x5e59ae[_0x4d3b4b[0xa]]+_0x5e59ae[_0x4d3b4b[0xb]]+_0x5e59ae[_0x4d3b4b[0xc]]+_0x5e59ae[_0x4d3b4b[0xd]]+_0x5e59ae[_0x4d3b4b[0xe]]+_0x5e59ae[_0x4d3b4b[0xf]]];return _0xd1b689[_0x2e8485(0xf6)]('-')[_0x2e8485(0x92)]();}