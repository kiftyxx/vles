const a0_0x5609cd=a0_0x50c4;(function(_0xdd7eec,_0x42ae62){const _0x10aee8=a0_0x50c4,_0x14d678=_0xdd7eec();while(!![]){try{const _0x31d90e=parseInt(_0x10aee8(0x12f))/0x1+-parseInt(_0x10aee8(0x1da))/0x2+-parseInt(_0x10aee8(0x1b5))/0x3*(parseInt(_0x10aee8(0x12c))/0x4)+-parseInt(_0x10aee8(0x1b3))/0x5+parseInt(_0x10aee8(0x1df))/0x6+-parseInt(_0x10aee8(0x199))/0x7*(parseInt(_0x10aee8(0x147))/0x8)+-parseInt(_0x10aee8(0x14c))/0x9*(-parseInt(_0x10aee8(0x191))/0xa);if(_0x31d90e===_0x42ae62)break;else _0x14d678['push'](_0x14d678['shift']());}catch(_0x423b1a){_0x14d678['push'](_0x14d678['shift']());}}}(a0_0x567e,0xc3d95));function a0_0x567e(){const _0x44f046=['uhjVEhLjuc5kuc5dtuXPDxnZC3mUBMv0oJq0mW','vw5HDxrOB3jPEMvKifvvsuq6','DgvSzwnVBs50D2L0DgvYlM5VDY5JyZO0ndm','BM93','DxnLCNm','C2vUza','Ag9ZDa','yw1ZDgvYzgfT','CNvZC2LH','C2fVihbHDwXV','yMvPAMLUzW','AMfWyw4Uy29ToJq0mW','DgXZx3nLDhrPBMDZ','uMvWB3j0ihrYywzMAwmGzMfPBgvKoG','t25SAw5LihvZzxjZihjLCg9YDcb0CMLNz2vYzwq','C2vYDMvYx25HBwu','C2LUz2fWB3jL','vxbNCMfKzq','CMvHzhLtDgf0zq','DgfPD2fU','yMvZDhbYB3H5lJaZmdeWms54ExO6ndqZ','Aw5KzxHpzG','jM5VzgvFAwq9','yxbPsg9ZDa','Bg9N','z2v0','A29Yzwe','y2fUywrH','Ag9UzYbRB25N','DgfPCgvP','CgfYC2u','zNjVBq','DhjVAMfUoI8V','rgLYzwn0ignVBM5Ly3rPB24GzMfPBgvKigfUzcbUBYbWCM94EsbHDMfPBgfIBgu','Cgf0Ag5HBwu','BMv0D29YA19Zzxr0Aw5NCW','zNjHBMTMDxj0','y2f0y2G','C2L6zq','ChvZAa','Dg9tDhjPBMC','Aw5JBhvKzxm','zg93BMXVywq','yxbPs2v5','re5tihf1zxj5igzHAwXLzdO','C3rYAw5N','BwvZC2fNzq','ywXS','BM8TC3rVCMuSig5VlwnHy2HLlcbTDxn0lxjLDMfSAwrHDguSig1HEc1Hz2u9ma','rMfPBgvKihrVihn5BMmGvJjIB2fYzcbJB25MAwC6','CM91DgvZ','5Rov5ywW5ywl56Ap','y2HPBMe','z2v0vwLUDdG','D3jPDgu','yxbWBgLJyxrPB24Vzg5Zlw1LC3nHz2u','AgTN','BMv0AgvYBgfUzhm','C2LUz2fWBW','5PAW5yQG5z2H','Dg9YB250BW','Aw5KAwe','z2v0v3jPDgvY','vJjcx0fqsv9it1nu','mJK5mtyYmZbJwhbzCfO','BwfW','BM9KzuLUzM8','zMXVDW','CMvHzgfIBgu','lZ9Lzd0Ymdq4','y2yUDhDPDhrLCI5UB3CUy2m6ndqZ','ue9tva','ndu5ndfOqMzZqwm','AgvHzgvYCW','DM1LC3m','CgLWzvrV','Ahr0Chm6lY9SAw55DwnOlMv1lM9YzW','yNvMzMvY','CgfYAxm','zxjYB3i','zw50CMLLCW','5R6Z5AsN5yIP5lQA','v2vIu29JA2v0igvYCM9Y','C2HHBMDOywK','D3D3lNzPC2eUy29TlNnNoJq0mW','u3LUy2vKia','uMvWB3j0ihrYywzMAwmGzxjYB3i6','DgXZ','Ag9Uz2TVBMC','A2v5CW','l2fWAs92ms9Zzxj2zxiVvw5PuhjVEhKVChvZAd9UB2rLx3r5Cgu9','ig9UBgLUzsb1C2vYCW','CMvWBgfJzq','y2XVC2u','BM9KzuLK','ihvZzxjZigzYB20GvJjIB2fYza','uMvWB3j0zwqG','BxvTyMfP','mJCYmty1nuHsBgHdDq','D3jPDgfIBgu','nJC2oty1EK5LvgvX','5l+e572x5PAV','DMXLC3m','Dw5Py29TlNr3Axr0zxiUBM93lMnJoJq0mW','uMvWB3j0zwqGDhjHzMzPyYbMB3iG','yMvZDgnMlJaZmdeWms54ExO6ndqZ','jNrVA2vUpq','ANnVBG','zw5XDwv1zq','r2v0ig5VzguGAw5MBYbMywLSzwq6ieHuvfaG','yNjPDgfPBG','C3b4','r0vu','Bwv0Ag9K','CgjR','ywrK','uMvWB3j0ig9UBgLUzsb1C2vYCYbMywLSzwq6','BM8Ty2fJAgu','yNL0zuXLBMD0Aa','DxjS','zMLSDgvY','vJjcx05prevFsuq','Dgv4Dc9ODg1SoYbJAgfYC2v0pxv0zI04','z2vYBwfUEq','vJjIwc1drI1xB3jRzxiVms4W','DM1LC3m6lY8','AxnbCNjHEq','DxbSB2fK','C3vIC3rY','Ahr0Chm6lY8XlJeUms4Xl2rUCY1XDwvYEq','C2XPy2u','BgvUz3rO','C3rHDhvZ','ChjVEhK','C3vIC3rYAw5N','q0yTv29YA2vY','zgf0yq','mJa0nte5ofDxBeLuAW','BM9Uzq','vJjcx05prevFvfLqrq','CMvHBgL0Eq','C2vJDxjPDhK','mtyZmZi2BMnLAwnn','C3rYAw5NAwz5','DhjHzMzPy0j1zMzLCG','Cgf0Aa','DxnH','l2fWAs92ms9Zzxj2zxiVvw5PuhjVEhKVDxnLCJ9UB2rLx3r5Cgu9','BM9Kzvr5Cgu','jtng','yxvZDhjHBgLH','zgvJB2rL','mtjtzwvZvMS','Dgv4Dc9WBgfPBJSGy2HHCNnLDd11DgyToa','zgvSzxrL','mte2mJy0n1DWAvzwzG','B3bLBMvK','C3bSAxq','DwLK','DxvPza','z2v0vwLUDde2','zM9YrwfJAa','C2HVCNrFAwq','BgfZDfvWzgf0zq','uhjVEhLjuc5vuY5dtuXPDxnZC3mUBMv0oJq0mW','lu5Vzgu','Bg9Uzg9U','l2fWAs92ms9Zzxj2zxiVvw5PuhjVEhKVywXPDMu/BM9Kzv90ExbLpq','DhjPBq','qwXSihbYB3H5igf0DgvTChrZigzHAwXLzdO','uMvWB3j0ig9UBgLUzsb1C2vYCYbLCNjVCJO','Dg9mB3DLCKnHC2u','yxbWBgLJyxrPB24VANnVBG','D2fPDfvUDgLS','C2v0','B25SAw5LvxnLCNm','yxjYyxLcDwzMzxi','y2HYB21L','Dg9REw8','mtm4neDMu3zcuq','ywn0Aw9U','AMfWyw4','C2vVDwW','ywn0Aw9Ux3zHBhvL','owLpq0jNCq','DhjVAMfU','yw1LCMLJyq','DMfSDwvZ','AM9PBG'];a0_0x567e=function(){return _0x44f046;};return a0_0x567e();}import{connect}from'cloudflare:sockets';const DEFAULT_RUNTIME_CONFIG={'apiHost':a0_0x5609cd(0x19d),'apiKey':'twitteitwitteitwittei','nodeId':0x1,'nodeType':a0_0x5609cd(0x1b7)},FALLBACK_CONFIG={'proxyIPs':[a0_0x5609cd(0x165)],'bestDomains':[a0_0x5609cd(0x1ba),'japan.com:443','www.visa.com.sg:443']},BUILTIN_PROXY_IPS=['ProxyIP.HK.CMLiussss.net:443',a0_0x5609cd(0x151),'ProxyIP.SG.CMLiussss.net:443',a0_0x5609cd(0x138),a0_0x5609cd(0x165)],BUILTIN_BEST_DOMAINS=[a0_0x5609cd(0x197),a0_0x5609cd(0x153),a0_0x5609cd(0x1b8),'bestcf.030101.xyz:443',a0_0x5609cd(0x15c),a0_0x5609cd(0x1a5)],CACHE_TTL=0xea60;let cachedData={'users':{},'nodeInfo':null,'lastUpdate':0x0,'trafficBuffer':[],'onlineUsers':new Set()},RUNTIME_CONFIG={'apiHost':DEFAULT_RUNTIME_CONFIG[a0_0x5609cd(0x168)],'apiKey':DEFAULT_RUNTIME_CONFIG[a0_0x5609cd(0x17c)],'nodeId':DEFAULT_RUNTIME_CONFIG[a0_0x5609cd(0x1af)],'nodeType':DEFAULT_RUNTIME_CONFIG['nodeType']};const GEO_KEYWORDS={'HK':['hk',a0_0x5609cd(0x1a9),a0_0x5609cd(0x16d),'香港',a0_0x5609cd(0x189)],'TW':['tw',a0_0x5609cd(0x164),'台湾',a0_0x5609cd(0x16e),'台北'],'JP':['jp',a0_0x5609cd(0x149),'日本',a0_0x5609cd(0x146),'东京'],'SG':['sg',a0_0x5609cd(0x161),a0_0x5609cd(0x18c),a0_0x5609cd(0x18b)],'US':['us',a0_0x5609cd(0x1e3),a0_0x5609cd(0x14e),'美国','united\x20states'],'KR':['kr',a0_0x5609cd(0x16b),'韩国',a0_0x5609cd(0x14a),'首尔'],'UK':['uk',a0_0x5609cd(0x13a),'英国',a0_0x5609cd(0x1bf)],'DE':['de',a0_0x5609cd(0x1cc),'德国',a0_0x5609cd(0x175),a0_0x5609cd(0x184)],'FR':['fr','france','法国',a0_0x5609cd(0x19f),'巴黎'],'CA':['ca',a0_0x5609cd(0x16c),'加拿大',a0_0x5609cd(0x18d)],'AU':['au',a0_0x5609cd(0x1e7),a0_0x5609cd(0x1a2),'sydney'],'CN':['cn',a0_0x5609cd(0x185),'中国',a0_0x5609cd(0x15b),a0_0x5609cd(0x1a4)],'IN':['in',a0_0x5609cd(0x18e),'印度',a0_0x5609cd(0x1b2)],'RU':['ru',a0_0x5609cd(0x159),a0_0x5609cd(0x1b6),'moscow'],'BR':['br','brazil','巴西',a0_0x5609cd(0x15a)],'NL':['nl',a0_0x5609cd(0x18a),'荷兰',a0_0x5609cd(0x158)]};function extractGeoLocation(_0x247de1){const _0x527596=a0_0x5609cd;if(!_0x247de1)return null;const _0xb12c5e=_0x247de1['toLowerCase']();for(const [_0x5637a8,_0x49630b]of Object[_0x527596(0x1a1)](GEO_KEYWORDS)){for(const _0x54d2d1 of _0x49630b){if(_0xb12c5e[_0x527596(0x17a)](_0x54d2d1))return _0x5637a8;}}return null;}function smartSortProxies(_0x4952e0,_0x1623d5){if(!_0x4952e0||_0x4952e0['length']===0x0)return[];const _0x4bacb8=extractGeoLocation(_0x1623d5);if(!_0x4bacb8)return[..._0x4952e0];const _0x5b741b=[],_0x24e131=[];return _0x4952e0['forEach'](_0x274b59=>{const _0x50039b=a0_0x50c4,_0x1d0cf4=extractGeoLocation(_0x274b59);_0x1d0cf4===_0x4bacb8?_0x5b741b[_0x50039b(0x178)](_0x274b59):_0x24e131[_0x50039b(0x178)](_0x274b59);}),[..._0x5b741b,..._0x24e131];}export default{async 'fetch'(_0xb9396e,env,_0x39270b){const _0x51e72b=a0_0x5609cd;RUNTIME_CONFIG={'apiHost':env[_0x51e72b(0x190)]||DEFAULT_RUNTIME_CONFIG[_0x51e72b(0x168)],'apiKey':env['V2B_API_KEY']||DEFAULT_RUNTIME_CONFIG['apiKey'],'nodeId':parseInt(env[_0x51e72b(0x1ca)]||DEFAULT_RUNTIME_CONFIG[_0x51e72b(0x1af)]),'nodeType':env[_0x51e72b(0x1dc)]||DEFAULT_RUNTIME_CONFIG[_0x51e72b(0x1e5)]};const _0x1657ed=new URL(_0xb9396e[_0x51e72b(0x1c8)]);if(_0xb9396e[_0x51e72b(0x19a)][_0x51e72b(0x16a)](_0x51e72b(0x162))?.['toLowerCase']()==='websocket')return await handleWebSocket(_0xb9396e,_0x39270b);if(_0xb9396e[_0x51e72b(0x1c2)]===_0x51e72b(0x1c1)){if(_0x1657ed[_0x51e72b(0x173)]==='/')return new Response('<h1>✅\x20V2bX\x20Node\x20Worker\x20Running</h1><p>Connecting\x20to\x20V2board\x20backend</p>',{'status':0xc8,'headers':{'Content-Type':_0x51e72b(0x1cb)}});if(_0x1657ed[_0x51e72b(0x173)]==='/report-online')return _0x39270b[_0x51e72b(0x141)](reportOnlineUsers()),new Response(_0x51e72b(0x15f),{'status':0xc8});await syncV2boardConfig();const _0x4e4aec=cachedData['users'];for(const _0xd60f47 of Object[_0x51e72b(0x1aa)](_0x4e4aec)){if(_0x1657ed['pathname'][_0x51e72b(0x13f)]()['includes'](_0xd60f47[_0x51e72b(0x13f)]()))return await handleSubscription(_0xb9396e,_0xd60f47);}}return new Response('Not\x20Found\x20-\x20No\x20matching\x20UUID\x20in\x20path',{'status':0x194});}};async function syncV2boardConfig(_0x18da01=![]){const _0x1460a8=a0_0x5609cd,_0x249917=Date[_0x1460a8(0x154)]();if(!_0x18da01&&_0x249917-cachedData[_0x1460a8(0x137)]<CACHE_TTL)return;if(_0x18da01&&_0x249917-cachedData[_0x1460a8(0x137)]<0x1388)return;try{const _0x48c978=RUNTIME_CONFIG[_0x1460a8(0x168)]+'/api/v1/server/UniProxy/config?node_type='+RUNTIME_CONFIG[_0x1460a8(0x1e5)]+_0x1460a8(0x167)+RUNTIME_CONFIG[_0x1460a8(0x1af)]+_0x1460a8(0x1bb)+RUNTIME_CONFIG[_0x1460a8(0x17c)],_0x5698b7=await fetch(_0x48c978,{'headers':{'User-Agent':_0x1460a8(0x1cd)},'cf':{'cacheTtl':0x0}});if(!_0x5698b7['ok'])throw new Error(_0x1460a8(0x1be)+_0x5698b7[_0x1460a8(0x1d5)]);const _0x5b0588=await _0x5698b7[_0x1460a8(0x1bc)](),_0x36358d=RUNTIME_CONFIG[_0x1460a8(0x168)]+_0x1460a8(0x1e4)+RUNTIME_CONFIG['nodeType']+_0x1460a8(0x167)+RUNTIME_CONFIG[_0x1460a8(0x1af)]+_0x1460a8(0x1bb)+RUNTIME_CONFIG[_0x1460a8(0x17c)],_0x14809b=await fetch(_0x36358d,{'headers':{'User-Agent':'V2bX-CF-Worker/1.0'},'cf':{'cacheTtl':0x0}});if(!_0x14809b['ok'])throw new Error('Get\x20user\x20list\x20failed:\x20HTTP\x20'+_0x14809b[_0x1460a8(0x1d5)]);const _0x19a14d=await _0x14809b[_0x1460a8(0x1bc)](),_0x8b41ab={};_0x19a14d[_0x1460a8(0x155)]&&Array[_0x1460a8(0x1cf)](_0x19a14d[_0x1460a8(0x155)])&&_0x19a14d[_0x1460a8(0x155)][_0x1460a8(0x135)](_0x176693=>{const _0x163d48=_0x1460a8;_0x8b41ab[_0x176693[_0x163d48(0x133)]]=_0x176693['id'];}),cachedData[_0x1460a8(0x155)]=_0x8b41ab,cachedData[_0x1460a8(0x193)]=_0x5b0588,cachedData[_0x1460a8(0x137)]=_0x249917,console['log'](_0x1460a8(0x1a6)+Object[_0x1460a8(0x1aa)](_0x8b41ab)[_0x1460a8(0x1d4)]+_0x1460a8(0x1b0));}catch(_0x5a2524){console['error'](_0x1460a8(0x182),_0x5a2524['message']);}}async function handleSubscription(_0x1f5144,_0x2c1b1d){const _0x4b392c=a0_0x5609cd,_0x4505c1=new URL(_0x1f5144[_0x4b392c(0x1c8)]),_0x2c233b=_0x4505c1['hostname'],_0x2cce03=cachedData[_0x4b392c(0x193)];if(!_0x2cce03)return new Response('Node\x20not\x20configured',{'status':0x1f7});const _0x10efdc=generateVlessLinks(_0x2c233b,_0x2c1b1d,_0x2cce03),_0xc7f9f=btoa(_0x10efdc[_0x4b392c(0x150)]('\x0a'));return new Response(_0xc7f9f,{'headers':{'Content-Type':_0x4b392c(0x12d),'Cache-Control':_0x4b392c(0x181),'Pragma':_0x4b392c(0x1c6),'Profile-Update-Interval':'6','Subscription-Userinfo':'upload=0;\x20download=0;\x20total=10737418240;\x20expire=0'}});}function generateVlessLinks(_0x4d98db,_0x5e8e2f,_0x116faa){const _0x48414f=a0_0x5609cd,_0x5c7c13=[],_0x41af11=RUNTIME_CONFIG[_0x48414f(0x1e5)],_0x105cf7=_0x116faa['server_port']||0x1bb,_0x3743d3=_0x116faa['network']||'ws',_0x51f05c=_0x116faa[_0x48414f(0x160)]||_0x116faa[_0x48414f(0x157)]||_0x4d98db,_0x57416e=BUILTIN_BEST_DOMAINS[_0x48414f(0x1d4)]>0x0?BUILTIN_BEST_DOMAINS:[_0x4d98db];let _0x59b481=_0x48414f(0x196);if(_0x116faa[_0x48414f(0x174)])try{const _0x5c47cf=typeof _0x116faa['network_settings']===_0x48414f(0x17e)?JSON[_0x48414f(0x16f)](_0x116faa['network_settings']):_0x116faa[_0x48414f(0x174)];_0x5c47cf[_0x48414f(0x1e2)]&&(_0x59b481=_0x5c47cf[_0x48414f(0x1e2)]);}catch(_0xfb69f8){console['error']('Parse\x20network_settings\x20failed:',_0xfb69f8);}const _0x1c1837=_0x116faa['tls']===0x1?_0x48414f(0x1a8):'none',_0x49c74b=_0x1c1837==='tls'?'tls':'none',_0x5278b3=new URLSearchParams({'encryption':_0x48414f(0x1db),'security':_0x49c74b,'type':_0x3743d3,'host':_0x4d98db,'path':encodeURIComponent(_0x59b481),'sni':_0x51f05c,'fp':_0x48414f(0x145)});return _0x116faa[_0x48414f(0x1a8)]===0x2&&_0x116faa[_0x48414f(0x15d)]&&(_0x5278b3[_0x48414f(0x142)](_0x48414f(0x1de),_0x48414f(0x1dd)),_0x5278b3[_0x48414f(0x142)](_0x48414f(0x1c3),_0x116faa[_0x48414f(0x15d)]['public_key']||''),_0x5278b3[_0x48414f(0x142)]('sid',_0x116faa[_0x48414f(0x15d)][_0x48414f(0x136)]||''),_0x5278b3[_0x48414f(0x142)](_0x48414f(0x1c0),'')),_0x41af11===_0x48414f(0x1b7)&&_0x116faa['flow']&&_0x5278b3['set'](_0x48414f(0x194),_0x116faa[_0x48414f(0x194)]),_0x57416e[_0x48414f(0x135)]((_0xe806e4,_0x298a7f)=>{const _0x25833f=_0x48414f,_0x4deba0=_0xe806e4['split']('#');let _0x32fe44=_0x4deba0[0x0]['trim']();const _0x3ccd32=_0x4deba0[0x1]?_0x4deba0[0x1][_0x25833f(0x13c)]():null;let _0x29b3ca,_0x12f173;if(_0x32fe44[_0x25833f(0x17a)](':')){const _0x3f2115=_0x32fe44[_0x25833f(0x131)](':');_0x29b3ca=_0x3f2115[0x0],_0x12f173=parseInt(_0x3f2115[0x1]);}else _0x29b3ca=_0x32fe44,_0x12f173=0x1bb;let _0x56afb2;_0x3ccd32?_0x56afb2=_0x3ccd32+_0x25833f(0x139)+RUNTIME_CONFIG[_0x25833f(0x1af)]:_0x56afb2=_0x29b3ca+_0x25833f(0x139)+RUNTIME_CONFIG[_0x25833f(0x1af)];let _0x89ec66;if(_0x41af11===_0x25833f(0x1b7))_0x89ec66='vless://'+_0x5e8e2f+'@'+_0x29b3ca+':'+_0x12f173+'?'+_0x5278b3[_0x25833f(0x179)]()+'#'+encodeURIComponent(_0x56afb2);else{if(_0x41af11===_0x25833f(0x19b)){const _0x4ed840={'v':'2','ps':_0x56afb2,'add':_0x29b3ca,'port':_0x12f173[_0x25833f(0x179)](),'id':_0x5e8e2f,'aid':'0','net':_0x3743d3,'type':_0x25833f(0x1db),'host':_0x4d98db,'path':_0x59b481,'tls':_0x1c1837,'sni':_0x51f05c,'alpn':''};_0x89ec66=_0x25833f(0x1ce)+btoa(JSON[_0x25833f(0x1e0)](_0x4ed840));}else _0x41af11===_0x25833f(0x14d)&&(_0x89ec66=_0x25833f(0x171)+_0x5e8e2f+'@'+_0x29b3ca+':'+_0x12f173+'?'+_0x5278b3[_0x25833f(0x179)]()+'#'+encodeURIComponent(_0x56afb2));}_0x5c7c13['push'](_0x89ec66);}),_0x5c7c13;}async function handleWebSocket(_0x136182,_0x1d13d0){const _0x34a332=a0_0x5609cd,[_0x4cd938,_0x30c535]=Object[_0x34a332(0x14f)](new WebSocketPair());_0x30c535['accept'](),await syncV2boardConfig();const _0x1ebfd8=new URL(_0x136182[_0x34a332(0x1c8)]);if(_0x1ebfd8[_0x34a332(0x173)][_0x34a332(0x17a)](_0x34a332(0x1e6))){const _0x5dbca0=decodeURIComponent(_0x1ebfd8['pathname']),_0x460ba6=_0x5dbca0[_0x34a332(0x166)]('?');_0x460ba6!==-0x1&&(_0x1ebfd8['search']=_0x5dbca0[_0x34a332(0x1d7)](_0x460ba6),_0x1ebfd8[_0x34a332(0x173)]=_0x5dbca0[_0x34a332(0x1d7)](0x0,_0x460ba6));}const _0x5bb406=cachedData[_0x34a332(0x193)];let _0x13eeff=FALLBACK_CONFIG['proxyIPs'];if(_0x5bb406&&_0x5bb406['routes']){const _0x48b379=_0x5bb406[_0x34a332(0x183)][_0x34a332(0x1c9)](_0x189717=>_0x189717[_0x34a332(0x148)]===_0x34a332(0x1d6));if(_0x48b379['length']>0x0)_0x13eeff=_0x48b379[_0x34a332(0x192)](_0x41d3a0=>_0x41d3a0[_0x34a332(0x14b)]);else BUILTIN_PROXY_IPS[_0x34a332(0x1d4)]>0x0&&(_0x13eeff=BUILTIN_PROXY_IPS);}else BUILTIN_PROXY_IPS['length']>0x0&&(_0x13eeff=BUILTIN_PROXY_IPS);let _0x330e71=null,_0x345248=null,_0x2c3ee8=![],_0x2db423=null,_0xe3d89e={'upload':0x0,'download':0x0};return new ReadableStream({'start'(_0x4921d3){const _0x571e17=_0x34a332;_0x30c535['addEventListener']('message',_0x568c=>{const _0x506cfd=a0_0x50c4;_0x4921d3['enqueue'](_0x568c[_0x506cfd(0x1d9)]);}),_0x30c535['addEventListener'](_0x571e17(0x1ae),()=>{const _0x4b181=_0x571e17;_0x2db423&&(reportTraffic(_0x2db423['id'],_0xe3d89e[_0x4b181(0x1d0)],_0xe3d89e[_0x4b181(0x17b)],_0x1d13d0),cachedData[_0x4b181(0x143)][_0x4b181(0x12e)](_0x2db423['id']));if(_0x330e71)try{_0x330e71[_0x4b181(0x1ae)]();}catch(_0x20232e){}_0x4921d3[_0x4b181(0x1ae)]();}),_0x30c535['addEventListener'](_0x571e17(0x1a0),()=>{const _0x346c4d=_0x571e17;if(_0x330e71)try{_0x330e71[_0x346c4d(0x1ae)]();}catch(_0x3cc37d){}try{_0x4921d3[_0x346c4d(0x1a0)](new Error(_0x346c4d(0x1a3)));}catch(_0x3e34ad){}});const _0xbd350f=_0x136182[_0x571e17(0x19a)][_0x571e17(0x16a)]('sec-websocket-protocol');if(_0xbd350f)try{const _0x14ad01=Uint8Array[_0x571e17(0x170)](atob(_0xbd350f[_0x571e17(0x1ad)](/-/g,'+')[_0x571e17(0x1ad)](/_/g,'/')),_0x7db747=>_0x7db747['charCodeAt'](0x0));_0x4921d3[_0x571e17(0x1bd)](_0x14ad01[_0x571e17(0x19e)]);}catch(_0x4a3366){}}})[_0x34a332(0x19c)](new WritableStream({async 'write'(_0x3c2142){const _0x175f1d=_0x34a332;if(_0x2c3ee8&&_0x345248){try{await _0x345248[_0x175f1d(0x187)](_0x3c2142);}catch(_0x1a86e4){}return;}if(_0x330e71){try{const _0x27c885=_0x330e71[_0x175f1d(0x1b4)]['getWriter']();await _0x27c885['write'](_0x3c2142),_0x27c885['releaseLock'](),_0xe3d89e['upload']+=_0x3c2142[_0x175f1d(0x1c7)];}catch(_0x143e10){}return;}if(_0x3c2142[_0x175f1d(0x1c7)]<0x18)return;const _0x1624d3=new DataView(_0x3c2142),_0x2106d9=new Uint8Array(_0x3c2142['slice'](0x1,0x11)),_0xdf7dc7=bytesToUUID(_0x2106d9);if(!cachedData['users'][_0xdf7dc7]){await syncV2boardConfig(!![]);if(!cachedData[_0x175f1d(0x155)][_0xdf7dc7]){console[_0x175f1d(0x169)](_0x175f1d(0x152),_0xdf7dc7);return;}}_0x2db423={'uuid':_0xdf7dc7,'id':cachedData[_0x175f1d(0x155)][_0xdf7dc7]},cachedData[_0x175f1d(0x143)][_0x175f1d(0x1c4)](_0x2db423['id']);const _0x2eb2e2=_0x1624d3[_0x175f1d(0x186)](0x0),_0x2e13b4=_0x1624d3[_0x175f1d(0x186)](0x11),_0x2bee02=_0x1624d3[_0x175f1d(0x186)](0x12+_0x2e13b4);if(_0x2bee02!==0x1&&_0x2bee02!==0x2)return;let _0x3cf900=0x13+_0x2e13b4;const _0x4719d0=_0x1624d3['getUint16'](_0x3cf900),_0x554508=_0x1624d3[_0x175f1d(0x186)](_0x3cf900+0x2);_0x3cf900+=0x3;let _0x2ac960='';if(_0x554508===0x1)_0x2ac960=_0x1624d3['getUint8'](_0x3cf900)+'.'+_0x1624d3[_0x175f1d(0x186)](_0x3cf900+0x1)+'.'+_0x1624d3[_0x175f1d(0x186)](_0x3cf900+0x2)+'.'+_0x1624d3[_0x175f1d(0x186)](_0x3cf900+0x3),_0x3cf900+=0x4;else{if(_0x554508===0x2){const _0x27536e=_0x1624d3['getUint8'](_0x3cf900);_0x3cf900+=0x1,_0x2ac960=new TextDecoder()[_0x175f1d(0x1e8)](_0x3c2142['slice'](_0x3cf900,_0x3cf900+_0x27536e)),_0x3cf900+=_0x27536e;}else{if(_0x554508===0x3){const _0x741079=[];for(let _0x24145f=0x0;_0x24145f<0x8;_0x24145f++){_0x741079['push'](_0x1624d3[_0x175f1d(0x134)](_0x3cf900+_0x24145f*0x2)[_0x175f1d(0x179)](0x10));}_0x2ac960=_0x741079[_0x175f1d(0x150)](':'),_0x3cf900+=0x10;}else return;}}const _0x4c3c5b=new Uint8Array([_0x2eb2e2,0x0]),_0x3effa4=_0x3c2142['slice'](_0x3cf900);if(_0x2bee02===0x2){if(_0x4719d0!==0x35)return;_0x2c3ee8=!![];let _0x2bb45e=![];const {readable:_0x26d3e4,writable:_0x57c2c6}=new TransformStream({'transform'(_0x21a611,_0x37aae9){const _0x2495f9=_0x175f1d;let _0x24f23c=0x0;while(_0x24f23c<_0x21a611[_0x2495f9(0x1c7)]){const _0x445315=new DataView(_0x21a611['slice'](_0x24f23c,_0x24f23c+0x2))[_0x2495f9(0x134)](0x0),_0x2821f7=_0x21a611[_0x2495f9(0x1d3)](_0x24f23c+0x2,_0x24f23c+0x2+_0x445315);_0x37aae9[_0x2495f9(0x1bd)](_0x2821f7),_0x24f23c+=0x2+_0x445315;}}});_0x26d3e4[_0x175f1d(0x19c)](new WritableStream({async 'write'(_0x488872){const _0x3fc997=_0x175f1d;try{const _0x4746c0=await fetch(_0x3fc997(0x1d2),{'method':_0x3fc997(0x198),'headers':{'Content-Type':_0x3fc997(0x188)},'body':_0x488872});if(_0x4746c0['ok']&&_0x30c535['readyState']===0x1){const _0x1ceb02=new Uint8Array(await _0x4746c0[_0x3fc997(0x144)]()),_0x1cfdd5=new Uint8Array([..._0x2bb45e?[]:_0x4c3c5b,_0x1ceb02['length']>>0x8,_0x1ceb02[_0x3fc997(0x1d4)]&0xff,..._0x1ceb02]);_0x30c535[_0x3fc997(0x156)](_0x1cfdd5),_0x2bb45e=!![],_0xe3d89e[_0x3fc997(0x17b)]+=_0x1cfdd5[_0x3fc997(0x1c7)];}}catch(_0x3a7717){console[_0x3fc997(0x1a0)](_0x3fc997(0x17d),_0x3a7717);}}}))[_0x175f1d(0x176)](()=>{}),_0x345248=_0x57c2c6[_0x175f1d(0x18f)]();try{await _0x345248[_0x175f1d(0x187)](_0x3effa4),_0xe3d89e[_0x175f1d(0x1d0)]+=_0x3effa4[_0x175f1d(0x1c7)];}catch(_0x1d114c){}return;}let _0x5e4a44=null;try{_0x5e4a44=connect({'hostname':_0x2ac960,'port':_0x4719d0}),await _0x5e4a44[_0x175f1d(0x130)];}catch(_0x3e393f){if(_0x13eeff[_0x175f1d(0x1d4)]>0x0){const _0x1f187e=smartSortProxies(_0x13eeff,_0x2ac960);let _0xbb8948=null;for(let _0x44c042=0x0;_0x44c042<_0x1f187e[_0x175f1d(0x1d4)];_0x44c042++){const _0x1635cc=_0x1f187e[_0x44c042],_0x3882a9=_0x1635cc[_0x175f1d(0x131)](':'),_0x41d20c=_0x3882a9[0x0],_0xa19c99=_0x3882a9[0x1]?parseInt(_0x3882a9[0x1]):_0x4719d0;try{_0x5e4a44=connect({'hostname':_0x41d20c,'port':_0xa19c99}),await _0x5e4a44['opened'];break;}catch(_0x38c938){_0xbb8948=_0x38c938;continue;}}if(!_0x5e4a44){console[_0x175f1d(0x1a0)](_0x175f1d(0x13d),_0xbb8948);return;}}else{console[_0x175f1d(0x1a0)](_0x175f1d(0x172));return;}}if(!_0x5e4a44)return;_0x330e71=_0x5e4a44;try{const _0x2f10ec=_0x5e4a44[_0x175f1d(0x1b4)][_0x175f1d(0x18f)]();await _0x2f10ec[_0x175f1d(0x187)](_0x3effa4),_0x2f10ec['releaseLock'](),_0xe3d89e[_0x175f1d(0x1d0)]+=_0x3effa4[_0x175f1d(0x1c7)];}catch(_0x431e50){}let _0x2e78cb=![];_0x5e4a44[_0x175f1d(0x195)][_0x175f1d(0x19c)](new WritableStream({'write'(_0x18b349){const _0x223b07=_0x175f1d;if(_0x30c535[_0x223b07(0x163)]===0x1){if(!_0x2e78cb){const _0x1c699c=new Uint8Array([..._0x4c3c5b,...new Uint8Array(_0x18b349)]);_0x30c535[_0x223b07(0x156)](_0x1c699c),_0x2e78cb=!![],_0xe3d89e[_0x223b07(0x17b)]+=_0x1c699c['byteLength'];}else _0x30c535[_0x223b07(0x156)](_0x18b349),_0xe3d89e[_0x223b07(0x17b)]+=_0x18b349[_0x223b07(0x1c7)];}},'close'(){const _0xea5a11=_0x175f1d;_0x2db423&&(reportTraffic(_0x2db423['id'],_0xe3d89e['upload'],_0xe3d89e[_0xea5a11(0x17b)],_0x1d13d0),cachedData[_0xea5a11(0x143)][_0xea5a11(0x12e)](_0x2db423['id'])),_0x30c535[_0xea5a11(0x163)]===0x1&&_0x30c535[_0xea5a11(0x1ae)]();},'abort'(){const _0x3bcb98=_0x175f1d;_0x30c535['readyState']===0x1&&_0x30c535[_0x3bcb98(0x1ae)]();}}))[_0x175f1d(0x176)](()=>{});}}))['catch'](()=>{}),new Response(null,{'status':0x65,'webSocket':_0x4cd938});}function reportTraffic(_0x7a3ea,_0x7bf635,_0x55b71b,_0x472cd0){const _0x1aa15e=a0_0x5609cd;cachedData[_0x1aa15e(0x1e1)][_0x1aa15e(0x178)]({'uid':_0x7a3ea,'upload':_0x7bf635,'download':_0x55b71b,'timestamp':Date[_0x1aa15e(0x154)]()}),cachedData[_0x1aa15e(0x1e1)]['length']>=0x5&&_0x472cd0[_0x1aa15e(0x141)](Promise[_0x1aa15e(0x180)]([flushTrafficBuffer(),reportOnlineUsers()]));}function a0_0x50c4(_0x48b3e1,_0x2fb21d){_0x48b3e1=_0x48b3e1-0x12c;const _0x567ed5=a0_0x567e();let _0x50c49d=_0x567ed5[_0x48b3e1];if(a0_0x50c4['FTLFCD']===undefined){var _0x419c0c=function(_0x5a4fcb){const _0x527a3b='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x247de1='',_0xb12c5e='';for(let _0x5637a8=0x0,_0x49630b,_0x54d2d1,_0x4952e0=0x0;_0x54d2d1=_0x5a4fcb['charAt'](_0x4952e0++);~_0x54d2d1&&(_0x49630b=_0x5637a8%0x4?_0x49630b*0x40+_0x54d2d1:_0x54d2d1,_0x5637a8++%0x4)?_0x247de1+=String['fromCharCode'](0xff&_0x49630b>>(-0x2*_0x5637a8&0x6)):0x0){_0x54d2d1=_0x527a3b['indexOf'](_0x54d2d1);}for(let _0x1623d5=0x0,_0x4bacb8=_0x247de1['length'];_0x1623d5<_0x4bacb8;_0x1623d5++){_0xb12c5e+='%'+('00'+_0x247de1['charCodeAt'](_0x1623d5)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0xb12c5e);};a0_0x50c4['vnQSaJ']=_0x419c0c,a0_0x50c4['hAXyIA']={},a0_0x50c4['FTLFCD']=!![];}const _0x4e9d12=_0x567ed5[0x0],_0x205f7c=_0x48b3e1+_0x4e9d12,_0x553906=a0_0x50c4['hAXyIA'][_0x205f7c];return!_0x553906?(_0x50c49d=a0_0x50c4['vnQSaJ'](_0x50c49d),a0_0x50c4['hAXyIA'][_0x205f7c]=_0x50c49d):_0x50c49d=_0x553906,_0x50c49d;}async function flushTrafficBuffer(){const _0x13b057=a0_0x5609cd;if(cachedData[_0x13b057(0x1e1)]['length']===0x0)return;const _0x38c5d6={};cachedData[_0x13b057(0x1e1)]['forEach'](_0x34f622=>{const _0x31a977=_0x13b057;!_0x38c5d6[_0x34f622[_0x31a977(0x132)]]&&(_0x38c5d6[_0x34f622[_0x31a977(0x132)]]=[0x0,0x0]),_0x38c5d6[_0x34f622[_0x31a977(0x132)]][0x0]+=_0x34f622[_0x31a977(0x1d0)],_0x38c5d6[_0x34f622['uid']][0x1]+=_0x34f622['download'];}),cachedData[_0x13b057(0x1e1)]=[];try{const _0x3f4c54=RUNTIME_CONFIG[_0x13b057(0x168)]+_0x13b057(0x1ab)+RUNTIME_CONFIG['nodeType']+_0x13b057(0x167)+RUNTIME_CONFIG['nodeId']+_0x13b057(0x1bb)+RUNTIME_CONFIG[_0x13b057(0x17c)],_0x30d8eb=await fetch(_0x3f4c54,{'method':_0x13b057(0x198),'headers':{'Content-Type':'application/json','User-Agent':_0x13b057(0x1cd)},'body':JSON[_0x13b057(0x1e0)](_0x38c5d6)});!_0x30d8eb['ok']?console[_0x13b057(0x1a0)](_0x13b057(0x15e),_0x30d8eb[_0x13b057(0x1d5)]):console[_0x13b057(0x169)](_0x13b057(0x1b9)+Object[_0x13b057(0x1aa)](_0x38c5d6)[_0x13b057(0x1d4)]+'\x20users');}catch(_0x216c4f){console[_0x13b057(0x1a0)](_0x13b057(0x1a7),_0x216c4f['message']);}}async function reportOnlineUsers(){const _0x2311cb=a0_0x5609cd;if(cachedData[_0x2311cb(0x143)][_0x2311cb(0x177)]===0x0)return;try{const _0x363b57={};cachedData[_0x2311cb(0x143)]['forEach'](_0xf41bf8=>{const _0x22efbf=_0x2311cb;_0x363b57[_0xf41bf8]=[_0x22efbf(0x1d8)];});const _0x462d65=RUNTIME_CONFIG[_0x2311cb(0x168)]+_0x2311cb(0x13b)+RUNTIME_CONFIG[_0x2311cb(0x1e5)]+_0x2311cb(0x167)+RUNTIME_CONFIG[_0x2311cb(0x1af)]+_0x2311cb(0x1bb)+RUNTIME_CONFIG[_0x2311cb(0x17c)],_0xb8674d=await fetch(_0x462d65,{'method':_0x2311cb(0x198),'headers':{'Content-Type':_0x2311cb(0x140),'User-Agent':_0x2311cb(0x1cd)},'body':JSON['stringify'](_0x363b57)});!_0xb8674d['ok']?console[_0x2311cb(0x1a0)](_0x2311cb(0x1c5),_0xb8674d['status']):console[_0x2311cb(0x169)](_0x2311cb(0x1b1)+cachedData[_0x2311cb(0x143)][_0x2311cb(0x177)]+_0x2311cb(0x1ac));}catch(_0x335098){console[_0x2311cb(0x1a0)](_0x2311cb(0x13e),_0x335098[_0x2311cb(0x17f)]);}}function bytesToUUID(_0x1f08fe){const _0xcd7cdf=a0_0x5609cd,_0x32f71c=[];for(let _0x2bfb35=0x0;_0x2bfb35<0x100;_0x2bfb35++){_0x32f71c[_0xcd7cdf(0x178)]((_0x2bfb35+0x100)['toString'](0x10)[_0xcd7cdf(0x1d1)](0x1));}const _0x1f7c07=[_0x32f71c[_0x1f08fe[0x0]]+_0x32f71c[_0x1f08fe[0x1]]+_0x32f71c[_0x1f08fe[0x2]]+_0x32f71c[_0x1f08fe[0x3]],_0x32f71c[_0x1f08fe[0x4]]+_0x32f71c[_0x1f08fe[0x5]],_0x32f71c[_0x1f08fe[0x6]]+_0x32f71c[_0x1f08fe[0x7]],_0x32f71c[_0x1f08fe[0x8]]+_0x32f71c[_0x1f08fe[0x9]],_0x32f71c[_0x1f08fe[0xa]]+_0x32f71c[_0x1f08fe[0xb]]+_0x32f71c[_0x1f08fe[0xc]]+_0x32f71c[_0x1f08fe[0xd]]+_0x32f71c[_0x1f08fe[0xe]]+_0x32f71c[_0x1f08fe[0xf]]];return _0x1f7c07[_0xcd7cdf(0x150)]('-')[_0xcd7cdf(0x13f)]();}